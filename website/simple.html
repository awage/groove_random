<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Simple Meters - Reading</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <link rel="stylesheet" href="css/custom.css">
</head>
<body data-mode="simple"> <!-- data-mode tells JS what to do -->

    <!-- TOP STICKY BAR: Playback Controls -->
    <header class="sticky-header">
        <div class="container-fluid header-content">
            <div class="header-left">
                <a href="index.html" class="back-btn">← Home</a>
                <strong class="hide-mobile">Simple Meters</strong>
            </div>
            
            <div class="header-center">
                 <!-- Sliders -->
                 <div class="slider-group">
                    <label><small>MIDI: <span id="disp_listen_bpm">100</span></small>
                    <input type="range" id="listen_bpm" min="40" max="200" value="100"></label>
                </div>
                <div class="slider-group">
                    <label><small>Click: <span id="disp_mtro_bpm">100</span></small>
                    <input type="range" id="mtro_bpm" min="40" max="250" value="100"></label>
                </div>
            </div>

            <div class="header-right">
                <button id="play_pop" class="contrast outline btn-sm" onclick="app.toggleMidi()">▶ Listen</button>
                <button id="metro_btn" class="secondary outline btn-sm" onclick="app.toggleMetronome()">⏱ Metro</button>
            </div>
        </div>
    </header>

    <main class="container-fluid">
        <div class="app-grid">
            
            <!-- SIDEBAR: Settings & Generator -->
            <aside class="settings-sidebar">
                <button id="btn-generate" onclick="app.generateCurrent()" class="btn-primary full-width">⚡ Generate New</button>
                
                <hr>

                <div class="setting-block">
                    <span class="label-title">Time Signature</span>
                    <div class="tile-grid">
                        <label class="tile radio"><input type="radio" name="mter" value="2/4"> <span>2/4</span></label>
                        <label class="tile radio"><input type="radio" name="mter" value="3/4"> <span>3/4</span></label>
                        <label class="tile radio"><input type="radio" name="mter" value="4/4" checked> <span>4/4</span></label>
                        <label class="tile radio"><input type="radio" name="mter" value="5/4"> <span>5/4</span></label>
                        <label class="tile radio"><input type="radio" name="mter" value="7/4"> <span>7/4</span></label>
                    </div>
                </div>

                <div class="setting-block">
                    <span class="label-title">One Beat Figures</span>
                    <div class="tile-grid">
                        <label class="tile"><input type="checkbox" class="onebeat" value="1" checked> <span>4th</span></label>
                        <label class="tile"><input type="checkbox" class="onebeat" value="2"> <span>8th</span></label>
                        <label class="tile"><input type="checkbox" class="onebeat" value="3"> <span>16th</span></label>
                        <label class="tile"><input type="checkbox" class="onebeat" value="4"> <span>Triplets</span></label>
                        <label class="tile"><input type="checkbox" class="onebeat" value="5"> <span>5th</span></label>
                        <label class="tile"><input type="checkbox" class="onebeat" value="6"> <span>6th</span></label>
                        <label class="tile"><input type="checkbox" class="onebeat" value="7"> <span>7th</span></label>
                    </div>
                </div>
                
                <div class="setting-block">
                    <span class="label-title">Two Beat Figures</span>
                    <div class="tile-grid">
                        <label class="tile"><input type="checkbox" class="onebeat" value="8"> <span>3:2</span></label>
                        <label class="tile"><input type="checkbox" class="onebeat" value="9"> <span>5:4</span></label>
                        <label class="tile"><input type="checkbox" class="onebeat" value="10"> <span>7:4</span></label>
                    </div>
                </div>

                <div class="setting-block">
                    <span class="label-title">Options</span>
                    <div class="tile-grid">
                        <label class="tile radio"><input type="radio" name="dif" value="1" checked> <span>Easy</span></label>
                        <label class="tile radio"><input type="radio" name="dif" value="2"> <span>Hard</span></label>
                        <label class="tile"><input type="checkbox" class="tdif" value="3"> <span>Dynamics</span></label>
                    </div>
                </div>

                <div class="setting-block">
                    <span class="label-title">Length (Bars)</span>
                    <div class="range-wrapper">
                        <input type="range" id="bar_nbr" min="1" max="50" value="10">
                        <span id="disp_bar_nbr" class="badge">10</span>
                    </div>
                </div>
            </aside>

            <!-- MAIN AREA: Paper -->
            <section class="paper-area">
                <div id="paper" class="paper-container">
                    <div id="notation"></div>
                    <div id="midicontainer" style="display:none;"></div>
                    <div class="paper-watermark">Simple Exercise</div>
                </div>
            </section>
        </div>
    </main>

    <!-- Scripts -->
    <script src="js/rdm_rhythm.js"></script> 
    <script src="js/abcjs_basic.min.js"></script>
    <script src="js/midi_player.js"></script> 
    <script src="js/app.js"></script>
</body>
</html>
