<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Reading Exercises</title>
    <!-- Pico.css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <!-- Custom tweaks -->
    <link rel="stylesheet" href="css/custom.css">
</head>
<body>

    <!-- Navigation -->
    <nav class="container-fluid">
        <ul>
            <li><strong>RANDOM GROOVES</strong></li>
        </ul>
    </nav>

    <main class="container">
        
        <hgroup>
            <h1>Reading Exercises</h1>
            <h2>Develop reading and rhythm skills.</h2>
        </hgroup>

        <!-- Notation Display -->
        <div id="paper" class="paper-container">
            <div id="notation"></div>
            <!-- Hidden MIDI container -->
            <div id="midicontainer" style="display:none;"></div>
        </div>

        <!-- MAIN CONTROL PANEL -->
        <article class="control-panel">
            <header><strong>Control Panel</strong></header>
            
            <div class="grid">
                <!-- Action Buttons -->
                <div>
                    <button id="btn-generate" onclick="app.generateCurrent()">⚡ Generate New</button>
                    <button id="play_pop" class="contrast" onclick="app.toggleMidi()">▶ Play MIDI</button>
                    <button id="metro_btn" class="secondary" onclick="app.toggleMetronome()">⏱ Metronome</button>
                </div>
                
                <!-- Sliders -->
                <div>
                    <label for="listen_bpm"><small>MIDI BPM: <span id="disp_listen_bpm">100</span></small></label>
                    <input type="range" id="listen_bpm" min="40" max="200" value="100">

                    <label for="mtro_bpm"><small>Metronome BPM: <span id="disp_mtro_bpm">100</span></small></label>
                    <input type="range" id="mtro_bpm" min="40" max="250" value="100">
                </div>
            </div>
        </article>

<!-- SETTINGS ACCORDIONS -->
        <h3>Generator Settings</h3>
        <p><small>Open a section to configure parameters. The "Generate New" button applies the settings of the open section.</small></p>
        
        <!-- Section: Simple Meters -->
        <details id="det-simple" open>
            <summary>Simple Meters (2/4, 3/4, 4/4...)</summary>
            
            <!-- Group 1 -->
            <div class="checkbox-group">
                <label>One Beat Subdivisions</label>
                <label><input type="checkbox" class="onebeat" value="1" checked> 4th</label>
                <label><input type="checkbox" class="onebeat" value="2"> 8th</label>
                <label><input type="checkbox" class="onebeat" value="3"> 16th</label>
                <label><input type="checkbox" class="onebeat" value="4"> Triplets</label>
                <label><input type="checkbox" class="onebeat" value="5"> 5th</label>
                <label><input type="checkbox" class="onebeat" value="6"> 6th</label>
                <label><input type="checkbox" class="onebeat" value="7"> 7th</label>
            </div>
            
            <!-- Group 2 -->
            <div class="checkbox-group">
                <label>Two Beat Subdivisions</label>
                <label><input type="checkbox" class="onebeat" value="8"> 3:2</label>
                <label><input type="checkbox" class="onebeat" value="9"> 5:4</label>
                <label><input type="checkbox" class="onebeat" value="10"> 7:4</label>
            </div>

            <!-- Group 3 -->
            <div class="checkbox-group">
                <label>Meters</label>
                <label><input type="radio" name="mter" value="2/4"> 2/4</label>
                <label><input type="radio" name="mter" value="3/4"> 3/4</label>
                <label><input type="radio" name="mter" value="4/4" checked> 4/4</label>
                <label><input type="radio" name="mter" value="5/4"> 5/4</label>
                <label><input type="radio" name="mter" value="7/4"> 7/4</label>
            </div>
            
            <!-- Group 4 -->
            <div class="checkbox-group">
                <label>Difficulty</label>
                <label><input type="radio" name="dif" class="tdif" value="1" checked> Easy</label>
                <label><input type="radio" name="dif" class="tdif" value="2"> Hard</label>
                <label><input type="checkbox" class="tdif" value="3"> Dynamics</label>
            </div>
        </details>

        <!-- Section: Compound Meters -->
        <details id="det-compound">
            <summary>Compound Meters (6/8, 9/8, 12/8...)</summary>
            
            <!-- Group 1 -->
            <div class="checkbox-group">
                <label>Subdivisions</label>
                <label><input type="checkbox" class="cmp_onebeat" value="1" checked> dot 4th</label>
                <label><input type="checkbox" class="cmp_onebeat" value="2"> 8th</label>
                <label><input type="checkbox" class="cmp_onebeat" value="3"> 16th</label>
                <label><input type="checkbox" class="cmp_onebeat" value="4"> 4:6</label>
                <label><input type="checkbox" class="cmp_onebeat" value="5"> 5:6</label>
                <label><input type="checkbox" class="cmp_onebeat" value="6"> 7:6</label>
                <label><input type="checkbox" class="cmp_onebeat" value="7"> 8:6</label>
            </div>
            
            <!-- Group 2 -->
            <div class="checkbox-group">
                <label>Meters</label>
                <label><input type="radio" name="cmeter" value="6/8" checked> 6/8</label>
                <label><input type="radio" name="cmeter" value="7/8"> 7/8</label>
                <label><input type="radio" name="cmeter" value="9/8"> 9/8</label>
                <label><input type="radio" name="cmeter" value="12/8"> 12/8</label>
            </div>
            
            <!-- Group 3 -->
            <div class="checkbox-group">
                <label>Difficulty</label>
                <label><input type="radio" name="cdif" value="1" checked> Easy</label>
                <label><input type="radio" name="cdif" value="2"> Hard</label>
                <label><input type="checkbox" class="cdif" value="3"> Dynamics</label>
            </div>
        </details>
    


        <!-- Section: Global Settings -->
        <details id="det-settings">
            <summary>Global Configuration</summary>
            <div class="grid">
                <div>
                    <label for="pg_wdth">Page Width (px): <span id="disp_pg_wdth">900</span></label>
                    <input type="range" id="pg_wdth" min="300" max="1400" value="900">
                </div>
                <div>
                    <label for="bar_nbr">Number of Bars: <span id="disp_bar_nbr">10</span></label>
                    <input type="range" id="bar_nbr" min="1" max="50" value="10">
                </div>
                <div>
                    <label for="mdi_tmpo">Generated MIDI Tempo: <span id="disp_mdi_tmpo">100</span></label>
                    <input type="range" id="mdi_tmpo" min="40" max="250" value="100">
                </div>
            </div>
        </details>

    </main>

    <!-- Audio Element for Legacy MIDI Player -->
    <audio id="tune_wav" src=""></audio>

    <!-- Dependencies -->
    <script src="js/rdm_rhythm.js"></script> 
    <script src="js/abcjs_basic.min.js"></script>
    <script src="js/midi_player.js"></script> 
    
    <!-- App Logic -->
    <script src="js/app.js"></script>

</body>
</html>
