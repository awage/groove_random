<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Reading Exercises</title>
    <!-- Pico.css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <!-- Custom tweaks -->
    <link rel="stylesheet" href="css/custom.css">
</head>
<body>

    <!-- Navigation -->
    <nav class="container-fluid">
        <ul>
            <li><strong>ü•Å RANDOM GROOVES</strong></li>
        </ul>
        <ul>
            <li><small>v2.1</small></li>
        </ul>
    </nav>

    <main class="container">
        
        <!-- Notation Display -->
        <div id="paper" class="paper-container">
            <div id="notation"></div>
            <div id="midicontainer" style="display:none;"></div>
            <div class="paper-watermark">Reading Exercise</div>
        </div>

        <!-- STICKY CONTROL PANEL -->
        <article class="control-panel sticky-header">
            <div class="grid">
                <!-- Action Buttons -->
                <div class="actions-group">
                    <button id="btn-generate" onclick="app.generateCurrent()" class="btn-lg">‚ö° Generate New</button>
                    <div class="play-controls">
                        <button id="play_pop" class="contrast outline" onclick="app.toggleMidi()">‚ñ∂ Listen</button>
                        <button id="metro_btn" class="secondary outline" onclick="app.toggleMetronome()">‚è± Metro</button>
                    </div>
                </div>
                
                <!-- Sliders -->
                <div class="sliders-group">
                    <div class="slider-row">
                        <label for="listen_bpm"><small>MIDI: <span id="disp_listen_bpm" class="badge">100</span></small></label>
                        <input type="range" id="listen_bpm" min="40" max="200" value="100">
                    </div>
                    <div class="slider-row">
                        <label for="mtro_bpm"><small>Click: <span id="disp_mtro_bpm" class="badge">100</span></small></label>
                        <input type="range" id="mtro_bpm" min="40" max="250" value="100">
                    </div>
                </div>
            </div>
        </article>

        <!-- SETTINGS -->
        <h4 class="section-title">Configuration</h4>
        
        <!-- Section: Simple Meters -->
        <details id="det-simple" open>
            <summary>Simple Meters (2/4, 4/4...)</summary>
            
            <div class="setting-block">
                <span class="label-title">One Beat Subdivisions</span>
                <div class="tile-grid">
                    <label class="tile"><input type="checkbox" class="onebeat" value="1" checked> <span>4th</span></label>
                    <label class="tile"><input type="checkbox" class="onebeat" value="2"> <span>8th</span></label>
                    <label class="tile"><input type="checkbox" class="onebeat" value="3"> <span>16th</span></label>
                    <label class="tile"><input type="checkbox" class="onebeat" value="4"> <span>Triplets</span></label>
                    <label class="tile"><input type="checkbox" class="onebeat" value="5"> <span>5th</span></label>
                    <label class="tile"><input type="checkbox" class="onebeat" value="6"> <span>6th</span></label>
                    <label class="tile"><input type="checkbox" class="onebeat" value="7"> <span>7th</span></label>
                </div>
            </div>
            
            <div class="setting-block">
                <span class="label-title">Two Beat Figures</span>
                <div class="tile-grid">
                    <label class="tile"><input type="checkbox" class="onebeat" value="8"> <span>3:2</span></label>
                    <label class="tile"><input type="checkbox" class="onebeat" value="9"> <span>5:4</span></label>
                    <label class="tile"><input type="checkbox" class="onebeat" value="10"> <span>7:4</span></label>
                </div>
            </div>

            <div class="setting-block">
                <span class="label-title">Time Signature</span>
                <div class="tile-grid">
                    <label class="tile radio"><input type="radio" name="mter" value="2/4"> <span>2/4</span></label>
                    <label class="tile radio"><input type="radio" name="mter" value="3/4"> <span>3/4</span></label>
                    <label class="tile radio"><input type="radio" name="mter" value="4/4" checked> <span>4/4</span></label>
                    <label class="tile radio"><input type="radio" name="mter" value="5/4"> <span>5/4</span></label>
                    <label class="tile radio"><input type="radio" name="mter" value="7/4"> <span>7/4</span></label>
                </div>
            </div>
            
            <!-- RESTORED: Difficulty Settings -->
            <div class="setting-block">
                <span class="label-title">Difficulty & Dynamics</span>
                <div class="tile-grid">
                    <label class="tile radio"><input type="radio" name="dif" value="1" checked> <span>Easy</span></label>
                    <label class="tile radio"><input type="radio" name="dif" value="2"> <span>Hard</span></label>
                    <label class="tile"><input type="checkbox" class="tdif" value="3"> <span>Dynamics</span></label>
                </div>
            </div>
        </details>

        <!-- Section: Compound Meters -->
        <details id="det-compound">
            <summary>Compound Meters (6/8, 12/8...)</summary>
            
            <div class="setting-block">
                <span class="label-title">Subdivisions</span>
                <div class="tile-grid">
                    <label class="tile"><input type="checkbox" class="cmp_onebeat" value="1" checked> <span>Dot 4th</span></label>
                    <label class="tile"><input type="checkbox" class="cmp_onebeat" value="2"> <span>3x 8th</span></label>
                    <label class="tile"><input type="checkbox" class="cmp_onebeat" value="3"> <span>16ths</span></label>
                    <label class="tile"><input type="checkbox" class="cmp_onebeat" value="4"> <span>4:6</span></label>
                    <label class="tile"><input type="checkbox" class="cmp_onebeat" value="5"> <span>5:6</span></label>
                    <label class="tile"><input type="checkbox" class="cmp_onebeat" value="6"> <span>7:6</span></label>
                    <label class="tile"><input type="checkbox" class="cmp_onebeat" value="7"> <span>8:6</span></label>
                </div>
            </div>
            
            <div class="setting-block">
                <span class="label-title">Time Signature</span>
                <div class="tile-grid">
                    <label class="tile radio"><input type="radio" name="cmeter" value="6/8" checked> <span>6/8</span></label>
                    <label class="tile radio"><input type="radio" name="cmeter" value="7/8"> <span>7/8</span></label>
                    <label class="tile radio"><input type="radio" name="cmeter" value="9/8"> <span>9/8</span></label>
                    <label class="tile radio"><input type="radio" name="cmeter" value="12/8"> <span>12/8</span></label>
                </div>
            </div>

            <!-- RESTORED: Difficulty Settings -->
            <div class="setting-block">
                <span class="label-title">Difficulty & Dynamics</span>
                <div class="tile-grid">
                    <label class="tile radio"><input type="radio" name="cdif" value="1" checked> <span>Easy</span></label>
                    <label class="tile radio"><input type="radio" name="cdif" value="2"> <span>Hard</span></label>
                    <label class="tile"><input type="checkbox" class="cdif" value="3"> <span>Dynamics</span></label>
                </div>
            </div>
        </details>
    
        <!-- Section: Global Settings -->
        <details id="det-settings">
            <summary>Global Configuration</summary>
            <div class="setting-block">
                <span class="label-title">Length</span>
                <label for="bar_nbr">Number of Bars: <span id="disp_bar_nbr" class="badge">10</span></label>
                <input type="range" id="bar_nbr" min="1" max="50" value="10">
            </div>
        </details>

    </main>
    
    <!-- Dependencies -->
    <script src="js/rdm_rhythm.js"></script> 
    <script src="js/abcjs_basic.min.js"></script>
    <script src="js/midi_player.js"></script> 
    
    <!-- Logic -->
    <script src="js/app.js"></script>

</body>
</html>
